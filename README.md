# Student Management System


## Table of contents
* [General info](#general-info)
* [Technologies](#technologies)
* [Setup](#setup)
	* [Using IDE](##Using-IDE)
	* [Deploy to Weblogic](##Deploy-to-Weblogic)
* [Profiles](#Profiles)
* [Database](#Database)
* [Tests](#Tests)

    



## General info
Student management system is a spring boot micro service where users can login, view courses and manage the course registration.

It contains below sample data:
* 3 login users for [authentication](#Authentication).
* 3 students.
* 6 courses.

	
## Technologies
Project is created using below stack:
* Java 8
* Springboot V2.5.3
* H2 in-memory Database / Oracle DB
	
    
## Setup
### Using IDE
* Import project to your preferred IDE intellij IDEA or eclipse STS.
* Wait for IDE to download project dependencies.
* Run BdfStudentRegistrationWarApplication as normal java application or as springboot application.

### Deploy to Weblogic

* Deployment steps
    - Via terminal, run maven command `mvn clean package -P[profile]`, where [Profile](#Profiles) represents spring profile.
    - Use generated war under `/target` for Weblogic deployment

## Profiles
Student management system project has 2 spring profiles:
* dev
    * Default profile, used for development purpose on local machines.
    * Uses h2 in-memory db.
    * configured via `application-dev.yaml`
* uat
    * Uses oracle db.
    * configured via `application-uat.yaml`

## Database
* H2
    - Using H2 in-memory DB makes it easy to store data without extra DB server setup.
    - H2 console can be accessed via URL: http://localhost:8080/h2-console
    
        `NOTE: H2 console DB is only accessable as long as application is up and running.`
* Oracle
    - Available only while build using '[uat](#Profiles)' spring profile.
    - oracle data source can be configured in `application-uat.yaml` file



## Authentication
For all APIs, authorization header is mandatory,

` 'Authorization: Bearer token-value'`

* Token is generated by executing `/login` API
* Token generation config is set in `application.yaml` file:
    - secret-key: SECRET 
    - token-validity-minutes: 10 
* Login API
    - URL: http://localhost:8080/login
        - Used to login and generate JWT token
    - Method: POST
    - Sample request body:
                
            {
                 "userName":"admin",
                 "password": "admin"
             }
    - Valid values are : 
        - admin/admin
        - user1/pwd1
        - user2/pwd2


## Tests

Postman tests collection is added to project as [`StudentRegistration.postman_collection.json`]StudentRegistration.postman_collection.json) file.

